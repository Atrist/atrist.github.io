{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{547:function(s,t,a){\"use strict\";a.r(t);var e=a(5),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[a(\"h2\",{attrs:{id:\"_1-需要使用sudo-方式启动-start-dfs-sh\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-需要使用sudo-方式启动-start-dfs-sh\"}},[s._v(\"#\")]),s._v(\" 1. 需要使用sudo 方式启动 start-dfs.sh\")]),s._v(\" \"),a(\"h3\",{attrs:{id:\"理由\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#理由\"}},[s._v(\"#\")]),s._v(\" 理由:\")]),s._v(\" \"),a(\"ol\",[a(\"li\",[s._v(\"hadoop 会有\"),a(\"code\",[s._v(\"创建/删除\")]),s._v(\"文件或文件夹等操作,而这些操作,一般需要超级管理员来做,而webHDFS作为API, 不具备手动提权的能力,所以,需要使用sudo方式启动\")])]),s._v(\" \"),a(\"h3\",{attrs:{id:\"步骤\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#步骤\"}},[s._v(\"#\")]),s._v(\" 步骤\")]),s._v(\" \"),a(\"ol\",[a(\"li\",[a(\"p\",[s._v(\"改写 ssh的配置文件,使得ssh允许以root方式启动\")]),s._v(\" \"),a(\"p\",[s._v(\"ssh的配置文件: \"),a(\"code\",[s._v(\"/etc/ssh/sshd_config\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"UseDNS no\\nAddressFamily inet\\nSyslogFacility AUTHPRIV\\nPermitRootLogin yes\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"重启ssh服务\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"service\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ssh\")]),s._v(\" restart\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"在root用户,生成一个ssh-key\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# 此刻的操作,  在root用户下\")]),s._v(\"\\nssh-keygen -t rsa -P \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"\"')]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" ~/.ssh/\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"cat\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token environment constant\"}},[s._v(\"$HOME\")]),s._v(\"/.ssh/id_rsa.pub \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">>\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token environment constant\"}},[s._v(\"$HOME\")]),s._v(\"/.ssh/authorized_keys\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\")])])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_2-webhdfs的authentication\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-webhdfs的authentication\"}},[s._v(\"#\")]),s._v(\" 2. WebHDFS的Authentication\")]),s._v(\" \"),a(\"p\",[s._v(\"在发送请求的时候,需要将  \"),a(\"code\",[s._v(\"user.name = root\")]),s._v(\",简单例子:\")]),s._v(\" \"),a(\"p\",[s._v(\"这是一个创建文件目录的url示例:\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-http line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-http\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token header-name keyword\"}},[s._v(\"http:\")]),s._v(\"//<HOST>:<PORT>/webhdfs/v1/useremo?user.name=root&op=MKDIRS\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])])])}),[],!1,null,null,null);t.default=n.exports}}]);","extractedComments":[]}